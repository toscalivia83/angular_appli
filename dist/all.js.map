{"version":3,"sources":["app.js","comment/comment.js","button/button.js","custom-input/custom-input.js","type-problem/type-problem.js","type-duree/type-duree.js","general_config.js","messages_config.js","ProblemsController.js","ProblemsService.js","ProblemsTypeService.js","TimeService.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["(function () {\n  'use strict'\n\n  angular.module('ProblemsTest', [])\n})();// eslint-disable-line semi\n","(function () {\n  'use strict'\n  var module = angular.module('ProblemsTest')\n\n  module.directive('myComment', [\n    function () {\n      return {\n        restrict: 'E',\n        scope: {\n          comment: '=enterNewComment'\n        },\n        templateUrl: '/component/comment/comment.html'\n      }\n    }\n  ])\n})();// eslint-disable-line semi\n","(function () {\n  'use strict'\n  var module = angular.module('ProblemsTest')\n\n  module.directive('myButton', [\n    function () {\n      function isNormalInteger (str) {\n        return /^\\\\?(0|[1-9]\\d*)$/.test(str)\n      }\n      return {\n        restrict: 'E',\n        scope: {\n          onclick: '=onclick',\n          label: '@btnLabel'\n        },\n        templateUrl: '/component/button/button.html',\n        link: function ($scope, element, attributes) {\n          if (isNormalInteger(attributes.btnWidth) === true) {\n            var buttonFirstChild = element.children(0).children(0)\n            var btnWidth = attributes.btnWidth + 'px'\n\n            buttonFirstChild.css('width', btnWidth)\n          } else {\n            var buttonSecondChild = element.children(0).children(0)\n            buttonSecondChild.css('padding', '15px')\n            // var btnPadding = padding: 15px;\n          }\n\n          if (isNormalInteger(attributes.btnHeight) === true) {\n            var buttonFirstChild = element.children(0).children(0)\n            var btnWidth = attributes.btnHeight + 'px'\n\n            buttonFirstChild.css('height', btnWidth)\n          } else {\n            var buttonSecondChild = element.children(0).children(0)\n            buttonSecondChild.css('padding', '15px')\n            // var btnPadding = padding: 15px;\n          }\n        }\n      }\n    }\n  ])\n})();// eslint-disable-line semi\n","(function () {\n  'use strict'\n  var module = angular.module('ProblemsTest')\n\n  module.directive('myCustomInput', [\n    function () {\n      return {\n        restrict: 'E',\n        scope: {\n          val: '=val',\n          label: '@label'\n        },\n        templateUrl: '/component/custom-input/custom-input.html',\n        link: function($scope, elem, attributes) {\n          var inputContainer = elem.children(0)\n          var elemInput = inputContainer.children(0)\n\n          setTimeout(function() {\n            var value = elemInput.val()\n            if( elemInput.val() !== '' ) { // in case the input is already filled..\n              inputContainer.addClass('input--filled')\n            }\n          }, 100)\n\n          // events:\n          elemInput.on( 'focus', onInputFocus );\n          elemInput.on( 'blur', onInputBlur );\n\n          function onInputFocus( ev ) {\n            inputContainer.addClass('input--filled' );\n          }\n\n          function onInputBlur( ev ) {\n            var value = elemInput.val()\n            if( elemInput.val() === '' ) { // in case the input is not filled..\n              inputContainer.removeClass('input--filled' );\n            }\n          }\n        }\n      }\n    }\n  ])\n})();// eslint-disable-line semi\n","(function () {\n  'use strict'\n  var module = angular.module('ProblemsTest')\n\n  module.directive('myProblems', ['configMessages', function (configMessages) {\n    return {\n      restrict: 'E',\n      scope: {\n        problems: '=problemsType',\n        ondatachange: '=ondatachange',\n        itemId: '=idvalue'\n      },\n      templateUrl: '/component/type-problem/type-problem.html',\n      link: function($scope, elem, attributes){\n        var elemSVG = elem.children(0).children(0).children(0).children(0)\n        console.log(elemSVG)\n        console.log(elem)\n\n        setTimeout(function() {\n          var elemLi = elem.find(\"li\")\n            var tabChecked = []\n          elemLi.on('click', function(){\n            var elemAllLiInput = elemLi.find('input')\n            for(var i=0; i<elemAllLiInput.length; i++){\n              console.log(i + ': ' + elemAllLiInput[i]['checked'])\n              tabChecked[i] = elemAllLiInput[i]['checked']\n              console.log(tab)\n              tabChecked++;\n            }\n            console.log(tabChecked)\n            console.log($scope.itemId)\n            console.log(elemAllLiInput[0]['checked'])\n            console.log(elemAllLiInput)\n          }) \n        }, 100)\n\n        var swirl = '<path d=\"M49.346,46.341c-3.79-2.005,3.698-10.294,7.984-8.89 c8.713,2.852,4.352,20.922-4.901,20.269c-4.684-0.33-12.616-7.405-14.38-11.818c-2.375-5.938,7.208-11.688,11.624-13.837 c9.078-4.42,18.403-3.503,22.784,6.651c4.049,9.378,6.206,28.09-1.462,36.276c-7.091,7.567-24.673,2.277-32.357-1.079 c-11.474-5.01-24.54-19.124-21.738-32.758c3.958-19.263,28.856-28.248,46.044-23.244c20.693,6.025,22.012,36.268,16.246,52.826 c-5.267,15.118-17.03,26.26-33.603,21.938c-11.054-2.883-20.984-10.949-28.809-18.908C9.236,66.096,2.704,57.597,6.01,46.371 c3.059-10.385,12.719-20.155,20.892-26.604C40.809,8.788,58.615,1.851,75.058,12.031c9.289,5.749,16.787,16.361,18.284,27.262 c0.643,4.698,0.646,10.775-3.811,13.746\" style=\"stroke-dasharray: 586.363, 586.363; stroke-dashoffset: 0; transition: stroke-dashoffset 0.8s ease-in 0s;\"/>'\n\n      }\n    }\n  }])\n})();// eslint-disable-line semi\n","(function () {\n  'use strict'\n  var module = angular.module('ProblemsTest')\n\n  module.directive('myDuree', [\n    function () {\n      return {\n        restrict: 'E',\n        scope: {\n          duration: '=problemsTypeDuree',\n          setvalue: '=setvalue'\n        },\n        controller: ['$scope', 'TimeService', function ($scope, TimeService) {\n          $scope.setvalue = function (duration) {\n            $scope.unit = TimeService.getTimeUnit(duration)\n            $scope.displaytime = TimeService.computeDisplayTime(duration, $scope.unit)\n          }\n\n          $scope.computetime = function () {\n            $scope.duration = TimeService.convertInMs($scope.displaytime, $scope.unit)\n            return $scope.duration\n          }\n\n          $scope.checknumber = function (e) {\n            if (!TimeService.keyisvalid(e.key)) {\n              e.preventDefault()\n            }\n          }\n        }],\n        templateUrl: '/component/type-duree/type-duree.html'\n      }\n    }\n  ])\n})();// eslint-disable-line semi\n","(function () {\n  'use strict'\n  var module = angular.module('ProblemsTest')\n\n  var configConnexionServer = {\n    port: '8080',\n    server: 'localhost'\n  }\n\n  module.constant('serverConnexion', configConnexionServer)\n})();// eslint-disable-line semi\n","(function () {\n  'use strict'\n  var module = angular.module('ProblemsTest')\n\n  var configMessages = {\n    problems: 'problems',\n    typeProbleme: 'typeProbleme',\n    repeatProblems: 'x in problems',\n    valueProblem: '{{x.typeProblems}}',\n    valueDuree: '{{x.duree}}'\n  }\n\n  module.constant('configMessages', configMessages)\n})();// eslint-disable-line semi\n","(function () {\n  'use strict'\n  var module = angular.module('ProblemsTest')\n\n  module.controller('ProblemsController', [\n    '$scope',\n    'ProblemsService',\n    'ProblemsTypeService',\n    function ($scope, ProblemsService, ProblemsTypeService) {\n      var initialValue = 20\n      $scope.problemType\n      $scope.duration\n      $scope.comment\n      $scope.problemId\n      $scope.comment\n      $scope.user\n      $scope.numPosteDa\n      $scope.adresseIPSopra\n      $scope.problems = []\n      $scope.date = Date.now()\n\n      ProblemsTypeService.getProblems().then(function (problems) {\n        $scope.problems = problems\n        $scope.problemIndex = initialValue\n        $scope.problemType = $scope.problems[initialValue].typeProbleme\n        $scope.duration = $scope.problems[initialValue].duree\n        $scope.setduration($scope.duration)\n        $scope.comment = ''\n        $scope.user = ''\n        $scope.numPosteDa = ''\n        $scope.adresseIPSopra = '172.50.3.54'\n      })\n      .catch(function (err) {\n        alert('Erreur')\n        console.log(err)\n      })\n\n      $scope.ontypechange = function (type) {\n        $scope.problemType = type.typeProbleme\n        $scope.duration = type.duree\n        $scope.setduration($scope.duration)\n      }\n\n      $scope.onsubmit = function () {\n        var objectToSend = {\n          typeProbleme: $scope.problemType,\n          duree: $scope.duration,\n          commentaire: $scope.comment,\n          user: $scope.user,\n          numPosteDA: $scope.numPosteDa,\n          adresseIPSopra: $scope.adresseIPSopra,\n          date: $scope.date\n        }\n        ProblemsService.createProblem(objectToSend)\n        .then(function (problems) {\n          alert('Well inserted')\n        })\n        .catch(function (err) {\n          alert('Erreur')\n          console.log(err)\n        })\n      }\n    }\n  ])\n})();// eslint-disable-line semi\n","(function () {\n  'use strict'\n  var module = angular.module('ProblemsTest')\n\n  module.service('ProblemsService', [\n    '$q',\n    '$http',\n    'serverConnexion',\n    function ($q, $http, serverConnexion) {\n      var ressourceNameCreateProblem = 'problems'\n      var apiUrlCreateProblems = 'http://' + serverConnexion.server + ':' + serverConnexion.port + '/' + ressourceNameCreateProblem\n\n      this.createProblem = function (data) {\n        var deferred = $q.defer()\n        $http.post(apiUrlCreateProblems, data)\n          .then(function (httpInfo) {\n            deferred.resolve(httpInfo.data)\n          })\n          .catch(function (err) {\n            deferred.reject(err)\n          })\n        return deferred.promise\n      }\n    }\n  ])\n})();// eslint-disable-line no-alert, quotes, semi\n\n","(function () {\n  'use strict'\n  var module = angular.module('ProblemsTest')\n\n  module.service('ProblemsTypeService', [\n    '$q',\n    '$http',\n    'serverConnexion',\n    function ($q, $http, serverConnexion) {\n      var ressourceNameGetProblems = 'problemsTypes'\n      var apiUrlGetProblems = 'http://' + serverConnexion.server + ':' + serverConnexion.port + '/' + ressourceNameGetProblems\n      this.getProblems = function () {\n        var deferred = $q.defer()\n        $http.get(apiUrlGetProblems)\n          .then(function (httpInfo) {\n            deferred.resolve(httpInfo.data)\n          })\n          .catch(function (err) {\n            deferred.reject(err)\n          })\n        return deferred.promise\n      }\n    }\n  ])\n})();// eslint-disable-line no-alert, quotes, semi\n","(function () {\n  'use strict'\n  var module = angular.module('ProblemsTest')\n\n  var configUnitTime = {\n    seconds: 's',\n    minutes: 'm',\n    hours: 'h'\n  }\n\n  module.service('TimeService',\n    function () {\n      this.getTimeUnit = function (duration) {\n        var unit\n        var invalidDuration = 'Duration is invalid'\n        if (!duration) {\n          throw invalidDuration\n        }\n\n        if (duration < 59999) {\n          unit = configUnitTime.seconds\n        } else if (duration < 3599999) {\n          unit = configUnitTime.minutes\n        } else {\n          unit = configUnitTime.hours\n        }\n        return unit\n      }\n\n      this.computeDisplayTime = function (duration, unit) {\n        var displaytime\n        var unknowUnit = 'Unknown unit'\n        switch (unit) {\n          case configUnitTime.seconds :\n            displaytime = Math.ceil(duration / 1000)\n            break\n          case configUnitTime.minutes :\n            displaytime = Math.ceil(duration / 60000)\n            break\n          case configUnitTime.hours :\n            displaytime = Math.ceil(duration / 3600000)\n            break\n          default :\n            throw unknowUnit\n        }\n        return displaytime\n      }\n\n      this.convertInMs = function (displaytime, unit) {\n        var duration\n        var unknownUnit = 'Unknown unit'\n        switch (unit) {\n          case configUnitTime.seconds :\n            duration = displaytime * 1000\n            break\n          case configUnitTime.minutes :\n            duration = displaytime * 60000\n            break\n          case configUnitTime.hours :\n            duration = displaytime * 3600000\n            break\n          default :\n            throw unknownUnit\n        }\n        return duration\n      }\n\n      this.keyisvalid = function (key) {\n        var numbers = '0123456789'\n        if (numbers.indexOf(key) !== -1 || key === 'Backspace') {\n          return true\n        } else {\n          return false\n        }\n      }\n    })\n})();// eslint-disable-line no-alert, quotes, semi\n"],"sourceRoot":"/source/"}